services:
  rag-app:
    # Build the Docker image using the Dockerfile in the current directory
    build: .
    # Map port 8501 on the host to port 8501 in the container (Streamlit default port)
    ports:
      - "8501:8501"
    # Load environment variables from the .env file in the project root
    env_file:
      - .env
    # Mount the local data directory to the container for persistent storage
    # This allows data to persist across container restarts and enables live updates
    volumes:
      - ./app/data:/app/app/data
    # Automatically restart the container if it stops or if Docker daemon restarts
    restart: always